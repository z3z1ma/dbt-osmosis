"use strict";(self.webpackChunkdbt_osmosis=self.webpackChunkdbt_osmosis||[]).push([[238],{9122:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"reference/cli","title":"CLI reference","description":"This page documents the current dbt-osmosis CLI surface area.","source":"@site/docs/reference/cli.md","sourceDirName":"reference","slug":"/reference/cli","permalink":"/dbt-osmosis/docs/reference/cli","draft":false,"unlisted":false,"editUrl":"https://github.com/z3z1ma/dbt-osmosis/tree/main/docs/docs/reference/cli.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"Reference","permalink":"/dbt-osmosis/docs/reference/"},"next":{"title":"Settings reference","permalink":"/dbt-osmosis/docs/reference/settings"}}');var d=n(4848),o=n(8453);const c={sidebar_position:1},l="CLI reference",r={},t=[{value:"Conventions",id:"conventions",level:2},{value:"<code>dbt-osmosis yaml</code>",id:"dbt-osmosis-yaml",level:2},{value:"Common YAML options",id:"common-yaml-options",level:3},{value:"<code>dbt-osmosis yaml refactor</code>",id:"dbt-osmosis-yaml-refactor",level:3},{value:"<code>dbt-osmosis yaml organize</code>",id:"dbt-osmosis-yaml-organize",level:3},{value:"<code>dbt-osmosis yaml document</code>",id:"dbt-osmosis-yaml-document",level:3},{value:"<code>dbt-osmosis sql</code>",id:"dbt-osmosis-sql",level:2},{value:"<code>dbt-osmosis workbench</code>",id:"dbt-osmosis-workbench",level:2},{value:"<code>dbt-osmosis test-llm</code>",id:"dbt-osmosis-test-llm",level:2},{value:"<code>dbt-osmosis generate</code>",id:"dbt-osmosis-generate",level:2},{value:"<code>dbt-osmosis nl</code>",id:"dbt-osmosis-nl",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.header,{children:(0,d.jsx)(s.h1,{id:"cli-reference",children:"CLI reference"})}),"\n",(0,d.jsxs)(s.p,{children:["This page documents the current ",(0,d.jsx)(s.code,{children:"dbt-osmosis"})," CLI surface area."]}),"\n",(0,d.jsx)(s.h2,{id:"conventions",children:"Conventions"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Most commands accept ",(0,d.jsx)(s.code,{children:"--project-dir"})," and ",(0,d.jsx)(s.code,{children:"--profiles-dir"})," (dbt project discovery defaults to the current directory and its parents; profiles default to ",(0,d.jsx)(s.code,{children:"~/.dbt"}),")."]}),"\n",(0,d.jsxs)(s.li,{children:["YAML commands support positional selectors (",(0,d.jsx)(s.code,{children:"models/"}),", ",(0,d.jsx)(s.code,{children:"models/foo.sql"}),", or ",(0,d.jsx)(s.code,{children:"model_name"}),") and ",(0,d.jsx)(s.code,{children:"--fqn"})," filters."]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"dbt-osmosis-yaml",children:(0,d.jsx)(s.code,{children:"dbt-osmosis yaml"})}),"\n",(0,d.jsx)(s.p,{children:"YAML commands manage schema files and column-level documentation inheritance."}),"\n",(0,d.jsx)(s.h3,{id:"common-yaml-options",children:"Common YAML options"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Positional selectors: ",(0,d.jsx)(s.code,{children:"dbt-osmosis yaml <command> [<selector> ...]"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"-f, --fqn"})," (repeatable)"]}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"-d, --dry-run"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"-C, --check"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--catalog-path"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--create-catalog-if-not-exists"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--disable-introspection"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--include-external"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--profile"})}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"--vars"})," (YAML string)"]}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--scaffold-empty-configs/--no-scaffold-empty-configs"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--strip-eof-blank-lines/--keep-eof-blank-lines"})}),"\n"]}),"\n",(0,d.jsx)(s.h3,{id:"dbt-osmosis-yaml-refactor",children:(0,d.jsx)(s.code,{children:"dbt-osmosis yaml refactor"})}),"\n",(0,d.jsxs)(s.p,{children:["Runs ",(0,d.jsx)(s.code,{children:"organize"})," (file placement) and then ",(0,d.jsx)(s.code,{children:"document"})," (inherit docs) in one command."]}),"\n",(0,d.jsx)(s.p,{children:"Common behavior flags:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"--auto-apply"})," (skip confirmation for file moves)"]}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"-F, --force-inherit-descriptions"})}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"--use-unrendered-descriptions"})," (propagate ",(0,d.jsx)(s.code,{children:"{{ doc(...) }}"})," descriptions)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"--prefer-yaml-values"})," (preserve unrendered templates for all fields)"]}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--skip-merge-meta"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--skip-add-tags"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--skip-add-columns"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--skip-add-source-columns"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--skip-add-data-types"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--add-progenitor-to-meta"})}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"--add-inheritance-for-specified-keys <key>"})," (repeatable)"]}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--numeric-precision-and-scale"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--string-length"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--output-to-lower"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--output-to-upper"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--include-external"})}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Experimental:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"--synthesize"})," (requires installing ",(0,d.jsx)(s.code,{children:"dbt-osmosis[openai]"})," and configuring ",(0,d.jsx)(s.code,{children:"LLM_PROVIDER"})," + provider-specific environment variables)"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Example:"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"dbt-osmosis yaml refactor models/staging --dry-run\n"})}),"\n",(0,d.jsx)(s.h3,{id:"dbt-osmosis-yaml-organize",children:(0,d.jsx)(s.code,{children:"dbt-osmosis yaml organize"})}),"\n",(0,d.jsxs)(s.p,{children:["Ensures YAML files exist and are placed according to your ",(0,d.jsx)(s.code,{children:"+dbt-osmosis:"})," rules."]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"--auto-apply"})}),"\n"]}),"\n",(0,d.jsx)(s.h3,{id:"dbt-osmosis-yaml-document",children:(0,d.jsx)(s.code,{children:"dbt-osmosis yaml document"})}),"\n",(0,d.jsx)(s.p,{children:"Applies column documentation inheritance and optional column injection/sorting."}),"\n",(0,d.jsxs)(s.p,{children:["Supports the same inheritance and output flags as ",(0,d.jsx)(s.code,{children:"yaml refactor"})," (except ",(0,d.jsx)(s.code,{children:"--auto-apply"}),")."]}),"\n",(0,d.jsx)(s.h2,{id:"dbt-osmosis-sql",children:(0,d.jsx)(s.code,{children:"dbt-osmosis sql"})}),"\n",(0,d.jsx)(s.p,{children:"Executes or compiles ad-hoc SQL (including dbt Jinja) against your project."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:'dbt-osmosis sql run "select ..."'})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:'dbt-osmosis sql compile "select ..."'})}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"dbt-osmosis-workbench",children:(0,d.jsx)(s.code,{children:"dbt-osmosis workbench"})}),"\n",(0,d.jsx)(s.p,{children:"Runs the Streamlit workbench."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"--host"})," (default ",(0,d.jsx)(s.code,{children:"localhost"}),")"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"--port"})," (default ",(0,d.jsx)(s.code,{children:"8501"}),")"]}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:["Tip: ",(0,d.jsx)(s.code,{children:"dbt-osmosis workbench --options"})," prints Streamlit runner help."]}),"\n",(0,d.jsx)(s.h2,{id:"dbt-osmosis-test-llm",children:(0,d.jsx)(s.code,{children:"dbt-osmosis test-llm"})}),"\n",(0,d.jsx)(s.p,{children:"Validates LLM client configuration for synthesis features."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Requires ",(0,d.jsx)(s.code,{children:"LLM_PROVIDER"})," to be set."]}),"\n",(0,d.jsx)(s.li,{children:"Prints the configured provider and model engine when successful."}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"dbt-osmosis-generate",children:(0,d.jsx)(s.code,{children:"dbt-osmosis generate"})}),"\n",(0,d.jsx)(s.p,{children:"Generates dbt artifacts (introspection- and/or LLM-driven)."}),"\n",(0,d.jsxs)(s.p,{children:["LLM-assisted subcommands require ",(0,d.jsx)(s.code,{children:"dbt-osmosis[openai]"})," and a configured ",(0,d.jsx)(s.code,{children:"LLM_PROVIDER"}),"."]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"dbt-osmosis generate sources"})," (generate dbt source YAML from database introspection)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"dbt-osmosis generate staging <source_name> <table_name>"})," (generate a staging model; add ",(0,d.jsx)(s.code,{children:"--ai"})," for LLM-assisted logic)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:'dbt-osmosis generate model "<description>"'})," (generate a dbt model from a natural language description)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:'dbt-osmosis generate query "<question>"'})," (generate SQL from a natural language question; add ",(0,d.jsx)(s.code,{children:"--execute"})," to run it)"]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"dbt-osmosis-nl",children:(0,d.jsx)(s.code,{children:"dbt-osmosis nl"})}),"\n",(0,d.jsx)(s.p,{children:"Natural-language helpers."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:'dbt-osmosis nl query "<question>"'})," (generate SQL; add ",(0,d.jsx)(s.code,{children:"--execute"})," to run it)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:'dbt-osmosis nl generate "<description>"'})," is deprecated; use ",(0,d.jsx)(s.code,{children:"dbt-osmosis generate model"})," instead."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>l});var i=n(6540);const d={},o=i.createContext(d);function c(e){const s=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);