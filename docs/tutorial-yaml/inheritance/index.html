<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial-yaml/inheritance" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Inheritance | dbt-osmosis Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://z3z1ma.github.io/dbt-osmosis/img/dbt-osmosis-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://z3z1ma.github.io/dbt-osmosis/img/dbt-osmosis-social-card.jpg"><meta data-rh="true" property="og:url" content="https://z3z1ma.github.io/dbt-osmosis/docs/tutorial-yaml/inheritance"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Inheritance | dbt-osmosis Docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/dbt-osmosis/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://z3z1ma.github.io/dbt-osmosis/docs/tutorial-yaml/inheritance"><link data-rh="true" rel="alternate" href="https://z3z1ma.github.io/dbt-osmosis/docs/tutorial-yaml/inheritance" hreflang="en"><link data-rh="true" rel="alternate" href="https://z3z1ma.github.io/dbt-osmosis/docs/tutorial-yaml/inheritance" hreflang="x-default"><link rel="stylesheet" href="/dbt-osmosis/assets/css/styles.6dfbbee3.css">
<script src="/dbt-osmosis/assets/js/runtime~main.ba7cc369.js" defer="defer"></script>
<script src="/dbt-osmosis/assets/js/main.75c8cfdd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/dbt-osmosis/img/dbt-osmosis-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dbt-osmosis/"><div class="navbar__logo"><img src="/dbt-osmosis/img/dbt-osmosis-logo.png" alt="dbt-osmosis Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/dbt-osmosis/img/dbt-osmosis-logo.png" alt="dbt-osmosis Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">dbt-osmosis Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dbt-osmosis/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/z3z1ma/dbt-osmosis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dbt-osmosis/docs/intro">dbt-osmosis Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dbt-osmosis/docs/category/dbt-osmosis---basics">dbt-osmosis - Basics</a><button aria-label="Collapse sidebar category &#x27;dbt-osmosis - Basics&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbt-osmosis/docs/tutorial-basics/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbt-osmosis/docs/tutorial-basics/commands">CLI Overview</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/dbt-osmosis/docs/category/dbt-osmosis---yaml">dbt-osmosis - YAML</a><button aria-label="Collapse sidebar category &#x27;dbt-osmosis - YAML&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbt-osmosis/docs/tutorial-yaml/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbt-osmosis/docs/tutorial-yaml/context">Context Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dbt-osmosis/docs/tutorial-yaml/inheritance">Inheritance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbt-osmosis/docs/tutorial-yaml/selection">Selection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbt-osmosis/docs/tutorial-yaml/workflow">Workflow</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dbt-osmosis/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/dbt-osmosis/docs/category/dbt-osmosis---yaml"><span itemprop="name">dbt-osmosis - YAML</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Inheritance</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Inheritance</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>One of the most powerful features of dbt-osmosis is <strong>multi-level column documentation inheritance</strong>. This means <strong>all</strong> relevant tags, descriptions, and meta fields for your columns can <strong>cascade</strong> from <strong>any</strong> upstream node to your current model.</p>
<p>For instance, if:</p>
<ol>
<li><strong>Source</strong> <code>salesforce</code> defines a column <code>contact_id</code> with a thorough description and some compliance tags (e.g. <code>[&quot;GDPR&quot;, &quot;PII&quot;]</code>).</li>
<li>A <strong>staging model</strong> aliases it to the same column name (<code>contact_id</code>) but doesn’t bother re-describing it.</li>
<li>A subsequent <strong>intermediate</strong> model references that staging model without modifying or renaming the column…</li>
</ol>
<p>dbt-osmosis can detect that the final model’s <code>contact_id</code> inherits documentation from the source. This approach ensures <strong>DRY</strong> docs: define them once, pass them everywhere.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works">How It Works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-building-an-ancestor-tree">1. Building an Ancestor Tree<a href="#1-building-an-ancestor-tree" class="hash-link" aria-label="Direct link to 1. Building an Ancestor Tree" title="Direct link to 1. Building an Ancestor Tree">​</a></h3>
<p>When dbt-osmosis looks at a given node (model, seed, or source), it first builds an <strong>ancestor tree</strong> by traversing all upstream dependencies—including <strong>multiple</strong> levels of parents. Concretely:</p>
<ul>
<li>It ignores ephemeral nodes (which typically aren’t documented or part of the lineage).</li>
<li>It collects every <strong>unique</strong> ancestor node (source, seed, or model).</li>
<li>If a node has more than one ancestor, it includes them <strong>all</strong> (not just the direct parent).</li>
</ul>
<p>Internally, this is driven by <code>_build_node_ancestor_tree(...)</code> in the code. The result is a structure that might look like:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;generation_0&quot;: [&quot;model.my_project.intermediate.my_node&quot;],       # the current node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;generation_1&quot;: [&quot;model.my_project.staging.salesforce_contacts&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;generation_2&quot;: [&quot;source.my_project.salesforce&quot;]                 # the farthest removed ancestor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-aggregating-a-knowledge-graph">2. Aggregating a “Knowledge Graph”<a href="#2-aggregating-a-knowledge-graph" class="hash-link" aria-label="Direct link to 2. Aggregating a “Knowledge Graph”" title="Direct link to 2. Aggregating a “Knowledge Graph”">​</a></h3>
<p>dbt-osmosis then <strong>reverses</strong> that tree so it can start from the <strong>oldest</strong> ancestor (like your source) and move <strong>forward</strong> in time through staging or intermediate nodes. It effectively layers each node’s documentation onto the final child. This is handled by <code>_build_column_knowledge_graph(...)</code>, which:</p>
<ul>
<li>Examines <strong>every</strong> column in your final node.</li>
<li>Looks for matches in each ancestor’s columns.</li>
<li><strong>Merges</strong> any descriptions, tags, meta fields, or other specified keys from the ancestor into the child’s doc if the child’s doc is missing or is a placeholder.</li>
<li>Skips ephemeral nodes and merges from all others.</li>
</ul>
<p>As it merges, it respects your config flags, e.g. <code>--skip-merge-meta</code> or <code>--skip-add-tags</code>. If the child already has a <strong>non-empty</strong> description, it won’t overwrite it (unless you used <code>--force-inherit-descriptions</code>). If the child has only a placeholder, that is replaced with the upstream doc.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-handling-renames-and-fuzzy-matching">3. Handling Renames and Fuzzy Matching<a href="#3-handling-renames-and-fuzzy-matching" class="hash-link" aria-label="Direct link to 3. Handling Renames and Fuzzy Matching" title="Direct link to 3. Handling Renames and Fuzzy Matching">​</a></h3>
<p>By default, dbt-osmosis expects <strong>exact</strong> column name matches to pass doc down. However, the code also includes:</p>
<ul>
<li><strong>FuzzyCaseMatching</strong>: handles uppercase vs. lowercase variations.</li>
<li><strong>FuzzyPrefixMatching</strong>: can strip known prefixes, e.g. if your staging model renamed <code>contact_id</code> to <code>stg_contact_id</code> but you still want to treat them as the same column.</li>
</ul>
<p>In the future, these hooks may expand further for more advanced fuzzy matches or ignoring certain patterns. You can also implement your own plugin to handle custom rename rules.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-updating-the-child-node">4. Updating the Child Node<a href="#4-updating-the-child-node" class="hash-link" aria-label="Direct link to 4. Updating the Child Node" title="Direct link to 4. Updating the Child Node">​</a></h3>
<p>Finally, once the “knowledge graph” is built, dbt-osmosis updates each column in the child node. This step is done by <code>inherit_upstream_column_knowledge(...)</code>. If the child column is missing data—like a description—it’s <strong>populated</strong> with the best available doc from an upstream ancestor.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h2>
<p>Imagine a lineage chain:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source.salesforce → staging.salesforce_contacts → intermediate.int_contacts → marts.int_contacts_reporting</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Your <code>source.salesforce</code> might say:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">columns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> contact_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Unique ID for each contact from Salesforce&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;PII&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GDPR&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> email</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Primary email address of the contact&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Your <code>staging.salesforce_contacts</code> might not redefine <code>contact_id</code> or <code>email</code>. So dbt-osmosis sees they are “inherited.” Then your <code>intermediate.int_contacts</code> has <code>contact_id</code>, but changes the description to “Contact ID, updated daily.” So, by the time we get to <code>marts.int_contacts_reporting</code>, that new description has priority. We still preserve the original compliance tags from the source unless you removed or modified them along the way.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-columns-diverge">When Columns Diverge<a href="#when-columns-diverge" class="hash-link" aria-label="Direct link to When Columns Diverge" title="Direct link to When Columns Diverge">​</a></h2>
<p>If at some point you rename columns or drastically change their meaning (while still using the same name upstream), dbt-osmosis stops short of forcing them to match. You can:</p>
<ul>
<li><strong>Manually</strong> override the doc in the child to reflect the new meaning.</li>
<li>If you truly want them to be distinct, you give it a different name, thus skipping inheritance for that new column name.</li>
<li>Or leverage fuzzy prefix logic if you’re systematically prefixing them and still want doc to pass down.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="config-flags-that-control-inheritance">Config Flags That Control Inheritance<a href="#config-flags-that-control-inheritance" class="hash-link" aria-label="Direct link to Config Flags That Control Inheritance" title="Direct link to Config Flags That Control Inheritance">​</a></h2>
<p>Below are some relevant flags to refine how much doc merges:</p>
<ul>
<li><code>--skip-merge-meta</code>: Skip inheriting <code>meta</code> fields from parent nodes.</li>
<li><code>--skip-add-tags</code>: Skip inheriting tags from upstream.</li>
<li><code>--force-inherit-descriptions</code>: Overwrite the child’s existing (but possibly placeholder) descriptions with the parent’s doc.</li>
<li><code>--add-progenitor-to-meta</code>: Mark each column with a <code>meta.osmosis_progenitor</code> field, so you can see <em>which</em> node it was inherited from.</li>
<li><code>--add-inheritance-for-specified-keys=policy_tags</code> (and so on): Inherit additional custom fields from your upstream docs.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-benefits">Key Benefits<a href="#key-benefits" class="hash-link" aria-label="Direct link to Key Benefits" title="Direct link to Key Benefits">​</a></h2>
<ul>
<li><strong>Eliminate Repetitive Docs</strong>: Document columns once at the source (or the earliest staging) and let everything downstream reuse it.</li>
<li><strong>Propagate Compliance Tags</strong>: If <code>GDPR</code> or <code>PII</code> tags are attached to certain columns, they follow that column across your entire pipeline.</li>
<li><strong>Promote Consistency</strong>: No more “different descriptions for the same field.”</li>
<li><strong>Extendable</strong>: You can create your own fuzzy matching logic if your naming patterns are more complex.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-enhancements">Future Enhancements<a href="#future-enhancements" class="hash-link" aria-label="Direct link to Future Enhancements" title="Direct link to Future Enhancements">​</a></h2>
<ul>
<li><strong>Robust Fuzzy Matching</strong>: Extending column name matching to handle more patterns or partial renames.</li>
<li><strong>External Data Dictionary</strong>: Ingest a CSV or JSON dictionary of columns and doc them as if they were an upstream node.</li>
<li><strong>Integration with LLMs</strong>: Combining the knowledge graph with an LLM to automatically fill out doc for columns that have none—<strong>dbt-osmosis</strong> already supports <code>--synthesize</code> for OpenAI, but deeper integration is possible.</li>
<li><strong>Ignoring Common Prefixes</strong>: For example, ignoring “stg_” or “dim_” while linking columns between child and parent.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="takeaways">Takeaways<a href="#takeaways" class="hash-link" aria-label="Direct link to Takeaways" title="Direct link to Takeaways">​</a></h3>
<p><strong>Multi-level column inheritance</strong> is a central feature of dbt-osmosis that drastically cuts down on repetitive documentation. By building a knowledge graph from all upstream nodes, dbt-osmosis ensures each model or source gets the most complete doc possible for every column, while letting you override or skip certain merges as needed. Whether you want to unify compliance tags, pass down descriptions, or unify large parts of your lineage, <strong>inheritance</strong> is how you keep your doc consistent without repeating yourself.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/z3z1ma/dbt-osmosis/tree/main/docs/docs/tutorial-yaml/inheritance.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/dbt-osmosis/docs/tutorial-yaml/context"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Context Variables</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dbt-osmosis/docs/tutorial-yaml/selection"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Selection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How It Works</a><ul><li><a href="#1-building-an-ancestor-tree" class="table-of-contents__link toc-highlight">1. Building an Ancestor Tree</a></li><li><a href="#2-aggregating-a-knowledge-graph" class="table-of-contents__link toc-highlight">2. Aggregating a “Knowledge Graph”</a></li><li><a href="#3-handling-renames-and-fuzzy-matching" class="table-of-contents__link toc-highlight">3. Handling Renames and Fuzzy Matching</a></li><li><a href="#4-updating-the-child-node" class="table-of-contents__link toc-highlight">4. Updating the Child Node</a></li></ul></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#when-columns-diverge" class="table-of-contents__link toc-highlight">When Columns Diverge</a></li><li><a href="#config-flags-that-control-inheritance" class="table-of-contents__link toc-highlight">Config Flags That Control Inheritance</a></li><li><a href="#key-benefits" class="table-of-contents__link toc-highlight">Key Benefits</a></li><li><a href="#future-enhancements" class="table-of-contents__link toc-highlight">Future Enhancements</a><ul><li><a href="#takeaways" class="table-of-contents__link toc-highlight">Takeaways</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dbt-osmosis/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/dbt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://community.getdbt.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">dbt Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/z3z1ma/dbt-osmosis" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Alex Butler. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>